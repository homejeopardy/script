<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ultimate Line Rehearsal Tool - Eurydice Edition</title>
<style>
:root {
  --bg-color: #ffffff;
  --text-color: #000000;
  --highlight-color: #e0e0e0;
}
[data-theme="dark"] {
  --bg-color: #121212;
  --text-color: #ffffff;
  --highlight-color: #333333;
}
body {
  background-color: var(--bg-color);
  color: var(--text-color);
  font-family: sans-serif;
  text-align: center;
  margin: 0;
  padding: 20px;
}
.line-display {
  background: var(--highlight-color);
  padding: 20px;
  border-radius: 8px;
  margin: 20px 0;
  cursor: pointer;
  white-space: pre-wrap;
}
button {
  padding: 10px 20px;
  margin: 10px;
  cursor: pointer;
}
</style>
</head>
<body>

<h1>Ultimate Line Rehearsal Tool</h1>

<button onclick="resetRehearsal()">Reset Rehearsal</button>
<button onclick="toggleDarkMode()">Toggle Dark Mode</button>

<div class="line-display" onclick="showNextLine()">Click to Start</div>

<script>
const lines = [
{ character: "EURYDICE", line: "All those birds? Thank you." },
{ character: "EURYDICE", line: "And - the sea! For me?" },
{ character: "EURYDICE", line: "Wow." },
{ character: "EURYDICE", line: "Surely not - surely not the sky and the stars too?!" },
{ character: "EURYDICE", line: "Thatâ€™s very generous." },
{ character: "EURYDICE", line: "Perhaps too generous?" },
// ... (All lines from the entire Eurydice script go here) ...
];

let userLines = [];
let currentIndex = 0;
let showingCue = true;
let characterName = "";

function startRehearsal() {
  characterName = prompt("Enter your character name exactly as in the script:").toUpperCase();
  userLines = lines.filter(entry => entry.character === characterName)
                   .map(entry => {
                     const cueIndex = lines.indexOf(entry);
                     return {
                       cue: cueIndex > 0 ? lines[cueIndex - 1].line : "(start)",
                       line: entry.line
                     };
                   });
  currentIndex = 0;
  showingCue = true;
  document.querySelector('.line-display').textContent = "Click to Start";
}

function showNextLine() {
  if (!userLines.length) {
    startRehearsal();
    return;
  }

  if (currentIndex >= userLines.length) {
    document.querySelector('.line-display').textContent = "ðŸŽ‰ Done!";
    return;
  }

  if (showingCue) {
    document.querySelector('.line-display').textContent = userLines[currentIndex].cue;
    showingCue = false;
  } else {
    document.querySelector('.line-display').textContent = userLines[currentIndex].line;
    showingCue = true;
    currentIndex++;
  }
}

function resetRehearsal() {
  userLines = [];
  currentIndex = 0;
  showingCue = true;
  characterName = "";
  document.querySelector('.line-display').textContent = "Click to Start";
}

function toggleDarkMode() {
  document.body.toggleAttribute('data-theme', 'dark');
}
</script>

</body>
</html>
